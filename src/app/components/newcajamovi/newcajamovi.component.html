<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <form ngNativeValidate [formGroup]="cajamoviForm" (ngSubmit)="guardar(cajamoviForm)"
                    class="form-horizontal">
                    <div class="form-body">
                        <h3 class="box-title">Nuevo Movimiento de Caja</h3>
                        <hr class="m-t-0 m-b-40">
                        <div class="row">
                            <!-- Se ocultó el campo de sucursal, ahora se obtiene del sessionStorage -->
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Código Mov.</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="codigo_mov">
                                            <option [ngValue]="null">Seleccione un concepto</option>
                                            <option *ngFor="let concepto of conceptos" [value]="concepto.id_concepto">
                                                {{ concepto.descripcion }}
                                            </option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione el concepto de movimiento</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <!-- Espacio disponible para otro campo si se necesita -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">N° Operación</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="num_operacion" placeholder="">
                                        <small class="form-control-feedback">Ingrese el número de operación (numérico)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Fecha Mov.</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control" formControlName="fecha_mov" placeholder="">
                                        <small class="form-control-feedback">Seleccione la fecha del movimiento</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Importe Mov.</label>
                                    <div class="col-md-9">
                                        <input type="number" step="0.01" class="form-control" formControlName="importe_mov" placeholder="">
                                        <small class="form-control-feedback">Ingrese el importe (numérico, 2 decimales)</small>
                                    </div>
                                </div>
                            </div>
                             <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Descripción</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" formControlName="descripcion_mov" placeholder="">
                                        <small class="form-control-feedback">Ingrese la descripción (máx. 80 caracteres)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Fecha Emi. Bco</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control" formControlName="fecha_emibco" placeholder="">
                                        <small class="form-control-feedback">Seleccione la fecha de emisión bancaria (opcional)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Banco</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="banco">
                                            <option [ngValue]="null">Seleccione un banco</option>
                                            <option *ngFor="let banco of bancos" [value]="banco.codigo_banco">
                                                {{ banco.descripcion }}
                                            </option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione un banco (opcional)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">N° Cheque</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="num_cheque" placeholder="">
                                        <small class="form-control-feedback">Ingrese el número de cheque (numérico, opcional)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Cuenta Mov.</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="cuenta_mov" placeholder="">
                                        <small class="form-control-feedback">Ingrese la cuenta de movimiento (numérico, máx 6 dígitos, opcional)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                             <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Cliente</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="cliente">
                                            <option [ngValue]="null">Seleccione un cliente</option>
                                            <option *ngFor="let cliente of clientes" [value]="cliente.cliente">
                                                {{ cliente.nombre }}
                                            </option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione un cliente</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Proveedor</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="proveedor">
                                            <option [ngValue]="null">Seleccione un proveedor</option>
                                            <option *ngFor="let proveedor of proveedores" [value]="proveedor.cod_prov">
                                                {{ proveedor.nombre }}
                                            </option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione un proveedor</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Plaza Cheque</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" formControlName="plaza_cheque" placeholder="">
                                        <small class="form-control-feedback">Ingrese la plaza del cheque (máx. 30 caracteres, opcional)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Código MBco</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="codigo_mbco" placeholder="" readonly>
                                        <small class="form-control-feedback">Código MBco (solo lectura)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                           <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Desc. Bancaria</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" formControlName="desc_bancaria" placeholder="" readonly>
                                        <small class="form-control-feedback">Descripción bancaria (solo lectura)</small>
                                    </div>
                                </div>
                            </div>
                           <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Marca Cerrado</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="marca_cerrado">
                                            <option value="0">ABIERTA</option>
                                            <option value="1">CERRADA</option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione el estado de cierre</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Fecha Cobro Bco</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control" formControlName="fecha_cobro_bco" placeholder="">
                                        <small class="form-control-feedback">Seleccione la fecha de cobro bancaria (opcional)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Fecha Vto Bco</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control" formControlName="fecha_vto_bco" placeholder="">
                                        <small class="form-control-feedback">Seleccione la fecha de vencimiento bancaria (opcional)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Tipo Movi</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="tipo_movi">
                                            <option value="M">MANUAL</option>
                                            <option value="A">AUTOMATICO</option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione el tipo de movimiento</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Caja</label>
                                    <div class="col-md-9">
                                        <select class="form-control" formControlName="caja">
                                            <option [ngValue]="null">Seleccione una caja</option>
                                            <option *ngFor="let caja of cajas" [value]="caja.id_caja">
                                                {{ caja.descripcion }}
                                            </option>
                                        </select>
                                        <small class="form-control-feedback">Seleccione una caja</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="row">
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Letra</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" formControlName="letra" placeholder="">
                                        <small class="form-control-feedback">Ingrese la letra (1 caracter, opcional)</small>
                                    </div>
                                </div>
                            </div>
                             <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Pto. Venta</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="punto_venta" placeholder="">
                                        <small class="form-control-feedback">Ingrese el punto de venta (numérico, 4 dígitos, opcional)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                           <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Tipo Comp.</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" formControlName="tipo_comprobante" placeholder="">
                                        <small class="form-control-feedback">Ingrese el tipo de comprobante (2 caracteres, opcional)</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">N° Comp.</label>
                                    <div class="col-md-9">
                                        <input type="number" class="form-control" formControlName="numero_comprobante" placeholder="">
                                        <small class="form-control-feedback">Ingrese el número de comprobante (numérico, 8 dígitos, opcional)</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                             <div class="col-md-6">
                                <div class="form-group row">
                                    <label class="control-label text-right col-md-3">Fecha Proceso</label>
                                    <div class="col-md-9">
                                        <input type="date" class="form-control" formControlName="fecha_proceso" placeholder="">
                                        <small class="form-control-feedback">Seleccione la fecha de proceso (opcional)</small>
                                    </div>
                                </div>
                            </div>
                           <!-- id_movimiento es serial, no se ingresa -->
                        </div>
                    </div>
                    <hr>
                    <div class="form-actions">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-offset-3 col-md-9">
                                        <button type="submit" class="btn btn-success">Guardar</button>
                                        <button type="button" class="btn btn-inverse" (click)="onCancel()">Cancelar</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6"> </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
