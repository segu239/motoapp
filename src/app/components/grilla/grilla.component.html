<!-- pedidos-dialog.component.html -->
<!-- <div class="alert alert-info mb-3" *ngIf="valoresCambio && valoresCambio.length > 0">
    <small>
        <i class="fa fa-info-circle"></i> Los precios de los productos con moneda extranjera han sido convertidos automáticamente según el valor de cambio actual.
    </small>
</div> -->

<!-- Indicador de carga -->
<!-- <div *ngIf="cargando" class="d-flex justify-content-center align-items-center p-3">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
        <span class="sr-only">Cargando...</span>
    </div>
    <span class="ml-3">Cargando productos, por favor espere...</span>
</div> -->

<!-- Tabla de productos -->
<!-- <p-table #dtable [value]="productos" [paginator]="false" [rows]="10" 
    [globalFilterFields]="['nomart', 'marca', 'precon','prefi1','prefi2']"
    *ngIf="!cargando && productos.length > 0">
    <ng-template pTemplate="caption">
        <div class="p-d-flex justify-content-between align-items-center">
            <div class="input-group" style="max-width: 300px;">
                <input type="text" class="form-control" [(ngModel)]="terminoBusqueda" 
                       placeholder="Buscar artículo..." (keyup.enter)="buscar()">
                <div class="input-group-append">
                    <button class="btn btn-primary" type="button" (click)="buscar()">
                        <i class="fa fa-search"></i>
                    </button>
                    <button class="btn btn-secondary" type="button" (click)="limpiarBusqueda()" *ngIf="terminoBusqueda">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Articulo</th>
        <th>Marca</th>
        <th>Prec. Contado</th>
        <th>Prec. CC</th>
        <th>Prec. Tarj.</th> -->
        <!-- Add more columns as needed -->
   <!--    </tr>
    </ng-template>
    <ng-template pTemplate="body" let-producto>
      <tr>
        <td>{{ producto.nomart }}</td>
        <td>{{ producto.marca }}</td>
        <td>{{ producto.precon | number:'1.2-2' }}</td>
        <td>{{ producto.prefi1 | number:'1.2-2' }}</td>
        <td>{{ producto.prefi2 | number:'1.2-2' }}</td> -->
        <!-- Add more columns as needed -->
  <!--     </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="5" class="text-center">No hay productos disponibles</td>
        </tr>
    </ng-template>
  </p-table> -->
  
  <!-- Custom pagination controls -->
 <!--  <div class="d-flex justify-content-between align-items-center mt-3" *ngIf="!cargando && totalPaginas > 0">
    <div>
        <span class="mr-2">Total: {{ totalItems }} items</span>
    </div>
    <div>
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item" [class.disabled]="paginaActual === 1">
                    <a class="page-link" href="javascript:void(0)" (click)="paginaAnterior()">Anterior</a>
                </li>
                <li class="page-item" *ngIf="paginaActual > 4">
                    <a class="page-link" href="javascript:void(0)" (click)="irAPagina(1)">1</a>
                </li>
                <li class="page-item disabled" *ngIf="paginaActual > 5">
                    <a class="page-link">...</a>
                </li>
                <li class="page-item" *ngFor="let pagina of getPaginasVisibles()" [class.active]="pagina === paginaActual">
                    <a class="page-link" href="javascript:void(0)" (click)="irAPagina(pagina)">{{ pagina }}</a>
                </li>
                <li class="page-item disabled" *ngIf="paginaActual < totalPaginas - 4">
                    <a class="page-link">...</a>
                </li>
                <li class="page-item" *ngIf="paginaActual < totalPaginas - 3 && totalPaginas > 1">
                    <a class="page-link" href="javascript:void(0)" (click)="irAPagina(totalPaginas)">{{ totalPaginas }}</a>
                </li>
                <li class="page-item" [class.disabled]="paginaActual === totalPaginas || totalPaginas === 0">
                    <a class="page-link" href="javascript:void(0)" (click)="paginaSiguiente()">Siguiente</a>
                </li>
            </ul>
        </nav>
    </div>
    <div>
        <span class="ml-2">Página {{ paginaActual }} de {{ totalPaginas }}</span>
    </div>
  </div> -->
  
<!-- Mensaje de error cuando no hay productos -->
<!-- <div *ngIf="!cargando && productos.length === 0" class="alert alert-warning">
    No se encontraron productos para mostrar.
</div>
 -->

 <!-- pedidos-dialog.component.html -->
<div class="alert alert-info mb-3" *ngIf="valoresCambio && valoresCambio.length > 0">
    <small>
        <i class="fa fa-info-circle"></i> Los precios de los productos con moneda extranjera han sido convertidos automáticamente según el valor de cambio actual.
    </small>
</div>

<!-- Indicador de carga -->
<div *ngIf="cargando" class="d-flex justify-content-center align-items-center p-3">
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
        <span class="sr-only">Cargando...</span>
    </div>
    <span class="ml-3">Cargando productos, por favor espere...</span>
</div>

<!-- Tabla de productos -->
<p-table #dtable [value]="productos" [paginator]="true" [rows]="10" 
    [globalFilterFields]="['nomart', 'marca', 'precon','prefi1','prefi2']"
    *ngIf="!cargando && productos.length > 0">
    <ng-template pTemplate="caption">
        <div class="p-d-flex justify-content-between align-items-center">
            <span class="p-input-icon-left ml-auto">
                <input pInputText type="text"
                    (input)="dtable.filterGlobal($any($event.target).value, 'contains')"
                    placeholder="Buscar.." />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Articulo</th>
        <th>Marca</th>
        <th>Prec. Contado</th>
        <th>Prec. CC</th>
        <th>Prec. Tarj.</th>
        <!-- Add more columns as needed -->
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-producto>
      <tr>
        <td>{{ producto.nomart }}</td>
        <td>{{ producto.marca }}</td>
        <td>{{ producto.precon | number:'1.2-2' }}</td>
        <td>{{ producto.prefi1 | number:'1.2-2' }}</td>
        <td>{{ producto.prefi2 | number:'1.2-2' }}</td>
        <!-- Add more columns as needed -->
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="5" class="text-center">No hay productos disponibles</td>
        </tr>
    </ng-template>
  </p-table>
  
<!-- Mensaje de error cuando no hay productos -->
<div *ngIf="!cargando && productos.length === 0" class="alert alert-warning">
    No se encontraron productos para mostrar.
</div>